<!doctype html>

<html>
	<head>
	<meta charset="UTF-8" />
		<title>Hueveras de cart√≥n 2</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.87.0/phaser.min.js"></script>
		<script>

let canvas_w = 800;
let canvas_h = 450;

let config = {

width: canvas_w,
height: canvas_h,

 physics: {
    default: 'arcade',
    arcade: {
     debug: true 
    }
  },

scene: {
	preload: preload,
	create: create,
	update: update
}

};

let game = new Phaser.Game(config);

let huevera_b, huevera_m, huevera_d;

let huevo_b, huevo_m, huevo_d;

let sprite_scale = .5;

let x_huevera = 100;

let y_huevo = 250;

let inZone = false;

function preload ()
{

this.load.image('huevera', 'huevera.png');

this.load.image('huevo', 'huevo.png');

this.load.image('background', 'farm.jpg');

this.load.image('hay', 'Hay.png');

}

function create ()
{

this.add.image(400, 225, 'background');

hay = this.add.image(x_huevera, 185, 'hay');
hay.setScale(sprite_scale);

secondHay = this.add.image(x_huevera, 325, 'hay');
secondHay.setScale(sprite_scale);

huevera_b = this.physics.add.staticImage(x_huevera, 110, 'huevera');
huevera_b.setScale(sprite_scale);
huevera_b.setTint(Phaser.Display.Color.GetColor(255, 255, 255));

huevera_b.setSize(200, 200, true);

huevo_b = this.physics.add.image(450, y_huevo, 'huevo');
huevo_b.setTint(Phaser.Display.Color.GetColor(225, 225, 225));
huevo_b.setInteractive({draggable:true});
huevo_b.on('pointerdown', function(){
console.log('Huevo blanco!');
this.setScale(1.3);
});
this.input.on('drag', function(pointer, object, x, y){
object.x = x;
object.y = y;
});
this.input.on('dragend', function(pointer, object, x, y){
object.setScale(1);
});

this.physics.add.overlap(huevera_b, huevo_b, function() {
inZone = true;
});

huevera_m = this.add.image(x_huevera, y_huevo, 'huevera');
huevera_m.setScale(sprite_scale);
huevera_m.setTint(Phaser.Display.Color.GetColor(153,76, 0));

huevo_m = this.add.image(350, y_huevo, 'huevo');
huevo_m.setTint(Phaser.Display.Color.GetColor(153, 76, 0));
huevo_m.setInteractive({draggable:true});
huevo_m.on('pointerdown', function(){
console.log('Huevo marron!');
this.setScale(1.3);
});
this.input.on('drag', function(pointer, object, x, y){
object.x = x;
object.y = y;
});
this.input.on('dragend', function(pointer, object, x, y){
object.setScale(1);
});

huevera_d = this.add.image(x_huevera, 390, 'huevera');
huevera_d.setScale(sprite_scale);
huevera_d.setTint(Phaser.Display.Color.GetColor(188, 195, 0));
huevera_d.preFX.addGlow();
//huevera_d.setRotation(90); forma yo
//huevera_d.angle = 90; forma rafa

huevo_d = this.add.image(550, y_huevo, 'huevo');
huevo_d.setTint(Phaser.Display.Color.GetColor(188, 195, 0));
huevo_d.preFX.addGlow();
huevo_d.setInteractive({draggable:true});
huevo_d.on('pointerdown', function(){
console.log('Huevo dorado!');
this.setScale(1.3);
});
this.input.on('drag', function(pointer, object, x, y){
object.x = x;
object.y = y;
});
this.input.on('dragend', function(pointer, object, x, y){
object.setScale(1);
});

}

function update ()
{

if( inZone && this.input.activePointer.isDown){
console.log("slay");
huevo_b.destroy();
}

}



		</script>

	</head>
	<body>
	</body>
</html>
